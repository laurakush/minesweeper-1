{"ast":null,"code":"var _jsxFileName = \"/Users/laurakushnir/Documents/Minesweeper-TS/minesweeper-1/src/components/Game.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { MineField } from './MineField';\nimport { Timer } from './Timer';\nimport { game } from '../gameLogic/game';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Game difficulty presets\nconst DIFFICULTY = {\n  EASY: {\n    rows: 9,\n    cols: 9,\n    mines: 10\n  },\n  MEDIUM: {\n    rows: 16,\n    cols: 16,\n    mines: 40\n  },\n  HARD: {\n    rows: 16,\n    cols: 30,\n    mines: 99\n  }\n};\nconst Game = ({\n  initialRows,\n  initialCols,\n  initialMines\n}) => {\n  _s();\n  const [gameState, setGameState] = useState(game.newGame(initialRows, initialCols, initialMines));\n  const [isCompleted, setIsCompleted] = useState(false);\n  const [flaggedCount, setFlaggedCount] = useState(0);\n  const [elapsedSeconds, setElapsedSeconds] = useState(0);\n  const [rows, setRows] = useState(initialRows);\n  const [cols, setColumns] = useState(initialCols);\n  const [mines, setMines] = useState(initialMines);\n\n  // Timer logic\n  useEffect(() => {\n    if (isCompleted || gameState.isOver) return;\n    const timerId = setInterval(() => {\n      setElapsedSeconds(prev => prev + 1);\n    }, 1000);\n    return () => clearInterval(timerId);\n  }, [isCompleted, gameState.isOver]);\n\n  // Check game status after each move\n  useEffect(() => {\n    const completed = game.isCompleted(gameState);\n    setIsCompleted(completed);\n    setFlaggedCount(game.countFlagged(gameState));\n  }, [gameState]);\n\n  // Left click handler - reveal cell\n  const handleLeftClick = useCallback(field => {\n    if (isCompleted || gameState.isOver) return;\n    setGameState(prev => game.openMine(prev, field));\n  }, [isCompleted, gameState.isOver]);\n\n  // Right click handler - toggle flag\n  const handleRightClick = useCallback((field, e) => {\n    if (isCompleted || gameState.isOver) return;\n\n    // Prevent context menu from showing\n    e.preventDefault();\n    setGameState(prev => game.markMine(prev, field));\n  }, [isCompleted, gameState.isOver]);\n  const startNewGame = useCallback(config => {\n    const {\n      rows: newRows,\n      cols: newCols,\n      mines: newMines\n    } = config;\n    setRows(newRows);\n    setColumns(newCols);\n    setMines(newMines);\n    setGameState(game.newGame(newRows, newCols, newMines));\n    setIsCompleted(false);\n    setFlaggedCount(0);\n    setElapsedSeconds(0);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"level-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => startNewGame(DIFFICULTY.EASY),\n          children: \"Easy (9\\xD79, 10 mines)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => startNewGame(DIFFICULTY.MEDIUM),\n          children: \"Medium (16\\xD716, 40 mines)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => startNewGame(DIFFICULTY.HARD),\n          children: \"Hard (16\\xD730, 99 mines)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MineField, {\n      game: gameState,\n      onLeftClick: handleLeftClick,\n      onRightClick: handleRightClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Timer, {\n      secPassed: elapsedSeconds\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status\",\n      children: [\"Completed: \", isCompleted ? 'YES' : 'NO', gameState.isOver && ' - Game Over!']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status\",\n      children: [\"Flags: \", flaggedCount, \"/\", gameState.totBombs]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"help\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"How to play\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Left Click to reveal a cell\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Right Click to place/remove a flag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(Game, \"XeUnxoRNwqoxlxMy1/6LFhJmhO0=\");\n_c = Game;\nvar _c;\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","MineField","Timer","game","jsxDEV","_jsxDEV","DIFFICULTY","EASY","rows","cols","mines","MEDIUM","HARD","Game","initialRows","initialCols","initialMines","_s","gameState","setGameState","newGame","isCompleted","setIsCompleted","flaggedCount","setFlaggedCount","elapsedSeconds","setElapsedSeconds","setRows","setColumns","setMines","isOver","timerId","setInterval","prev","clearInterval","completed","countFlagged","handleLeftClick","field","openMine","handleRightClick","e","preventDefault","markMine","startNewGame","config","newRows","newCols","newMines","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onLeftClick","onRightClick","secPassed","totBombs","_c","$RefreshReg$"],"sources":["/Users/laurakushnir/Documents/Minesweeper-TS/minesweeper-1/src/components/Game.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { MineField } from './MineField';\nimport { Timer } from './Timer';\nimport { game } from '../gameLogic/game';\nimport { Game as GameType, Mine } from '../gameLogic/gameDomain';\n\ninterface GameProps {\n  initialRows: number;\n  initialCols: number;\n  initialMines: number;\n}\n\n// Game difficulty presets\nconst DIFFICULTY = {\n  EASY: { rows: 9, cols: 9, mines: 10 },\n  MEDIUM: { rows: 16, cols: 16, mines: 40 },\n  HARD: { rows: 16, cols: 30, mines: 99 }\n};\n\nconst Game: React.FC<GameProps> = ({ initialRows, initialCols, initialMines }) => {\n  const [gameState, setGameState] = useState<GameType>(\n    game.newGame(initialRows, initialCols, initialMines)\n  );\n  const [isCompleted, setIsCompleted] = useState<boolean>(false);\n  const [flaggedCount, setFlaggedCount] = useState<number>(0);\n  const [elapsedSeconds, setElapsedSeconds] = useState<number>(0);\n  const [rows, setRows] = useState<number>(initialRows);\n  const [cols, setColumns] = useState<number>(initialCols);\n  const [mines, setMines] = useState<number>(initialMines);\n\n  // Timer logic\n  useEffect(() => {\n    if (isCompleted || gameState.isOver) return;\n\n    const timerId = setInterval(() => {\n      setElapsedSeconds(prev => prev + 1);\n    }, 1000);\n\n    return () => clearInterval(timerId);\n  }, [isCompleted, gameState.isOver]);\n\n  // Check game status after each move\n  useEffect(() => {\n    const completed = game.isCompleted(gameState);\n    setIsCompleted(completed);\n    setFlaggedCount(game.countFlagged(gameState));\n  }, [gameState]);\n\n  // Left click handler - reveal cell\n  const handleLeftClick = useCallback((field: Mine) => {\n    if (isCompleted || gameState.isOver) return;\n    \n    setGameState(prev => game.openMine(prev, field));\n  }, [isCompleted, gameState.isOver]);\n\n  // Right click handler - toggle flag\n  const handleRightClick = useCallback((field: Mine, e: React.MouseEvent) => {\n    if (isCompleted || gameState.isOver) return;\n    \n    // Prevent context menu from showing\n    e.preventDefault();\n    \n    setGameState(prev => game.markMine(prev, field));\n  }, [isCompleted, gameState.isOver]);\n\n  const startNewGame = useCallback((config: { rows: number, cols: number, mines: number }) => {\n    const { rows: newRows, cols: newCols, mines: newMines } = config;\n    setRows(newRows);\n    setColumns(newCols);\n    setMines(newMines);\n    setGameState(game.newGame(newRows, newCols, newMines));\n    setIsCompleted(false);\n    setFlaggedCount(0);\n    setElapsedSeconds(0);\n  }, []);\n\n  return (\n    <div className=\"game\">\n      <div className=\"menu\">\n        <ul className=\"level-menu\">\n          <li onClick={() => startNewGame(DIFFICULTY.EASY)}>Easy (9×9, 10 mines)</li>\n          <li onClick={() => startNewGame(DIFFICULTY.MEDIUM)}>Medium (16×16, 40 mines)</li>\n          <li onClick={() => startNewGame(DIFFICULTY.HARD)}>Hard (16×30, 99 mines)</li>\n        </ul>\n      </div>\n      <MineField\n        game={gameState}\n        onLeftClick={handleLeftClick}\n        onRightClick={handleRightClick}\n      />\n      <Timer secPassed={elapsedSeconds} />\n      <div className=\"status\">\n        Completed: {isCompleted ? 'YES' : 'NO'}\n        {gameState.isOver && ' - Game Over!'}\n      </div>\n      <div className=\"status\">Flags: {flaggedCount}/{gameState.totBombs}</div>\n      <div className=\"help\">\n        <h3>How to play</h3>\n        <ol>\n          <li>Left Click to reveal a cell</li>\n          <li>Right Click to place/remove a flag</li>\n        </ol>\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}